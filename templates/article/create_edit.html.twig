{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('create-article') }}
{% endblock %}
{% block body %}
    <div class="container w-50 mt-5 mb-5">
        {{ form_start(form) }}
            <h5 class="font-weight-bold">{{ 'article.form.titles.title'|trans }}</h5>
            <div class="form-group">
                {{ form_row(form.title) }}
            </div>
            <h5 class="font-weight-bold">{{ 'article.form.titles.pdf_file'|trans }}</h5>
            <div class="form-group">
                {{ form_row(form.file) }}
            </div>
            <h5 class="mt-3 mb-3 font-weight-bold">{{'article.form.titles.images'|trans }}</h5>
            <div id="article_images" data-prototype="{{ form_widget(form.images.vars.prototype)|e }}">
                {% for imageForm in form.images %}
                    <div class="form-group">
                        {% if imageForm.vars.value.src is not null %}
                            <img src="{{ asset('image/' ~ imageForm.vars.value.src) }}" class="img-thumbnail mb-2 w-25" alt="{{ imageForm.vars.value.alt ?? '' }}">
                        {% endif %}
                        {{ form_row(imageForm.file) }}
                        {{ form_row(imageForm.content) }}
                    </div>
                {% endfor %}
            </div>
            <h5 class="mt-3 mb-3">{{'article.form.titles.categories'|trans }}</h5>
            {{ form_row(form.categories) }}
            <div class="form-check-inline">
                {{ form_row(form.publish, {'attr': {'class': 'form-check-input'}} ) }}
            </div>
            <div class="row justify-content-center">
                {{ form_row(form.submit) }}
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('create-article') }}
{% endblock %}